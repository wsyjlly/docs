(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{208:function(n,t,e){"use strict";e.r(t);var r=e(0),s=Object(r.a)({},function(){var n=this.$createElement,t=this._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('docker run -it --na\n\nme demo01 -p:8080:8080 demo01:1.0\nfile:/ysw/demo01.jar!/BOOT-INF/classes!/uploadFile/\n/tmp/tomcat-docbase.1698214305800799626.8080/uploadFile/\n\nnpm镜像\nhttp://r.cnpmjs.org/\nvue init webpack vue-sfow --registry http://r.cnpmjs.org/\n --registry https://registry.npm.taobao.org\n2、持久使用\nnpm config set registry http://r.cnpmjs.org/\n// 配置后可通过下面方式来验证是否成功\nnpm config get registry\n// 或\nnpm info express\n\n\n\nRedis安装\ndocker pull redis:4.0\ndocker run -p 6379:6379 -v /ysw/redis/data:/data -d redis:4.0 redis-server --appendonly yes --requirepass "root@234"\n\ndocker run --name="redis01" -p 6379:6379 -v /ysw/redis/data:/data -d redis:4.0 redis-server --appendonly yes --requirepass "root@234"\n\n\ndocker exec -it redis01 redis-cli -h 127.0.0.1 -p 6379 -a root@234\ndocker exec -it demo01 /bin/bash\n\n\n创建目录：mkdir(make directories)\n功能说明：建立目录 \n语　　法：mkdir [-p][--help][--version][-m <目录属性>][目录名称]\n补充说明：mkdir可建立目录并同时设置目录的权限。\n参　　数：\n  -m<目录属性>或–mode<目录属性>   建立目录时同时设置目录的权限。\n  -p或–parents   若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录。\n例：mkdir  test\n\n\n创建文件 touch\n功能说明：改变文件或目录时间。\n语　　法：touch [-acfm][-d <日期时间>][-r <参考文件或目 录>][-t <日期时间>] [--help]　　 [--version][文件或目录...] 或 touch [-acfm][--help][--version][日期时 间][文件或目录...] \n补充说明：使用touch指令可更改文件或目录的日期时间，包括存取时间和更改时间。\n参　　数：\n　-a或–time=atime或–time=access或–time=use 　只更改存取时间。 \n　-c或–no-create 　不建立任何文件。 \n　-d<时间日期> 　使用指定的日期时间，而非现在的时间。 \n　-f 　此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题。 \n　-m或–time=mtime或–time=modify 　只更改变动时间。 \n　-r<参考文件或目录> 　把指定文件或目录的日期时间，统统设成和参考文件或目录的日期时间相同。 \n　-t<日期时间> 　使用指定的日期时间，而非现在的时间。\n\n\n//删除目录、文件 rm(remove)\n功能说明：删除文件或目录。\n语　　法：rm [-dfirv][--help][--version][文件或目录...]\n补充说明：执行rm指令可删除文件或目录，如欲删除目录必须加上参数”-r”，否则预设仅会删除文件。 \n参　　数：\n　-d或–directory 　直接把欲删除的目录的硬连接数据删成0，删除该目录。 \n　-f或–force 　强制删除文件或目录。 \n　-i或–interactive 　删除既有文件或目录之前先询问用户。 \n　-r或-R或–recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。 \n　-v或–verbose 　显示指令执行过程。 \n\n\n\n\n\nLinux默认根目录文件夹\n================================================================\nbin   dev  home  lib64  media  opt   root  sbin  sys  usr\nboot  etc  lib   lost+found  mnt    proc  run   srv   tmp  var\n================================================================\nlrwxrwxrwx.  1 root root     7 Feb 15 17:22 bin -> usr/bin\ndr-xr-xr-x.  5 root root  4096 Feb 15 17:27 boot\ndrwxr-xr-x  19 root root  2960 Jun 16 09:37 dev\ndrwxr-xr-x. 83 root root  4096 Jun 17 11:30 etc\ndrwxr-xr-x.  2 root root  4096 Apr 11  2018 home\nlrwxrwxrwx.  1 root root     7 Feb 15 17:22 lib -> usr/lib\nlrwxrwxrwx.  1 root root     9 Feb 15 17:22 lib64 -> usr/lib64\ndrwx------.  2 root root 16384 Feb 15 17:22 lost+found\ndrwxr-xr-x.  2 root root  4096 Apr 11  2018 media\ndrwxr-xr-x.  2 root root  4096 Apr 11  2018 mnt\ndrwxr-xr-x.  2 root root  4096 Apr 11  2018 opt\ndr-xr-xr-x  90 root root     0 Jun 16 09:37 proc\ndr-xr-x---.  6 root root  4096 Jun 17 12:43 root\ndrwxr-xr-x  27 root root   840 Jun 17 12:44 run\nlrwxrwxrwx.  1 root root     8 Feb 15 17:22 sbin -> usr/sbin\ndrwxr-xr-x.  2 root root  4096 Apr 11  2018 srv\ndr-xr-xr-x  13 root root     0 Jun 16 09:38 sys\ndrwxrwxrwt. 10 root root  4096 Jun 17 12:44 tmp\ndrwxr-xr-x. 13 root root  4096 Jun 16 09:49 usr\ndrwxr-xr-x. 19 root root  4096 Feb 15 09:26 var\n================================================================\n\n\ntomcat设置软链接\nln -s /usr/local/tomcat/bin/shutdown.sh /tomcat0\nln -s /usr/local/tomcat/bin/catalina.sh /tomcat1\nln -s /usr/local/tomcat/bin/startup.sh /tomcat2\n\nCentOS 7 防火墙操作\nsystemctl stop firewalld\nsystemctl start firewalld\nsystemctl status firewalld\nsystemctl enable firewalld\nsystemctl disable firewalld\n\n\nSELinux激活\n查看状态\nsestatus  SELinux status:\n编辑/etc/selinux/config文件\n先将SELinux的值设置为permissive，reboot后，执行下列命令：\ngenhomedircon\ntouch /.autorelabel\nreboot\n标记完成后再设置为enforcing，reboot\n\n\n查看当前firewall状态\nfirewall-cmd --state\n重启firewall\nfirewall-cmd --reload\nfirewall-cmd --list-ports\n开启端口\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n\n\n\n\n [aliyunzixun@xxx.com /]# systemctl status vsftpd.service\n#激活vsftpd服务\n [aliyunzixun@xxx.com /]# systemctl start vsftpd.service\n#设置vsftpd服务开机自启\n [aliyunzixun@xxx.com /]#systemctl enable vsftpd.service\n查看开机启动项\nsystemctl list-unit-files\nsystemctl list-unit-files | grep vsftpd\n\n\n\n\n[mysql]\n# 设置mysql客户端默认字符集\ndefault-character-set=utf8\nsocket=/var/lib/mysql/mysql.sock\n[mysqld]\nskip-name-resolve\n#设置3306端口\nport = 3306\nsocket=/var/lib/mysql/mysql.sock\n# 设置mysql的安装目录\nbasedir=/usr/local/mysql\n# 设置mysql数据库的数据的存放目录\ndatadir=/usr/local/mysql/data\n# 允许最大连接数\nmax_connections=200\n# 服务端使用的字符集默认为8比特编码的latin1字符集\ncharacter-set-server=utf8\n# 创建新表时将使用的默认存储引擎\ndefault-storage-engine=INNODB\nlower_case_table_name=1\nmax_allowed_packet=16M\n\n\n\n\n\n\n\n查看mysql已安装的文件\n rpm -qa |grep -i mysql\n卸载mysql\n yum remove mysql57-community-release-el7-8.noarch\n 查找mysql\nfind / -name mysql\n删除mysql文件夹\nrm /usr/local/mysql -rf\n\n\n#防火墙添加80端口:\nfirewall-cmd --zone=public --add-port=8081/tcp --permanent\n这样就成功的将8081端口加入了public区域中，permanent参数表示永久生效，即重启也不会失效，最后不要忘记更新防火墙规则：\nfirewall-cmd --reload\nOK，下面看一下public区域下所有已打开的端口，命令如下：\nfirewall-cmd --zone=public --list-ports\n\n\n#防火墙添加FTP服务:\n[aliyunzixun@xxx.com vsftpd]#firewall-cmd --permanent --zone=public --add-service=ftp\n[aliyunzixun@xxx.com vsftpd]#firewall-cmd --reload\n#设置SELinux:\n[aliyunzixun@xxx.com vsftpd]#getsebool -a | grep ftp\n[aliyunzixun@xxx.com vsftpd]#setsebool -P ftpd_full_access on\n\n\n***********************yum安装wget***********************\nyum -y install wget\nyum -y install vsftpd\n\n\nrpm本地安装\n\n\n\n\n\n***********************vsftpd安装好后用root登录不进去***********************\ncat /etc/vsftpd/user_list\ncat /etc/vsftpd/ftpusers\n将\nroot\n改为\n# root\n:wq保存\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n查看虚拟机里的Centos7的IP\n这里之所以是查看下IP ，是我们后面要建一个Centos远程工具Xshell 连接Centos的时候，需要IP地址，所以我们这里先\n学会查看虚拟机里的Centos7的IP地址\n首先我们登录操作系统 用户名root 密码 123456\n然后我们输入ip查询命名 ip addr  也可以输入 ifconfig查看ip，但此命令会出现3个条目，centos的ip地址是ens33条目中的inet值。\n发现 ens33 没有 inet 这个属性，那么就没法通过IP地址连接虚拟机。\n\n\n接着来查看ens33网卡的配置： vi /etc/sysconfig/network-scripts/ifcfg-ens33   注意vi后面加空格\nvi是Linux内置的文本编辑器命令 打开文件的意思\n从配置清单中可以发现 CentOS 7 默认是不启动网卡的（ONBOOT=no）。\n把这一项改为YES（ONBOOT=yes）\n然后按 Esc 退出  再出入命令 :wq  再按Enter即可  （备注 :wq 是保存然后退出的意思 后面会专门讲下vi）\n\n\n\n然后重启网络服务： sudo service network restart \n\n然后我们再输入  ip addr 命令\n这里 inet属性显示了 虚拟机里的IP  192.168.1.107  (你们的可能和我不一样)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlinux 安装jdk 1.7 64位和配置\n检查是否存在\njava -version\n\n如果存在就删除\n否则下载一个\nwget http://download.oracle.com/otn-pub/java/jdk/7u3-b04/jdk-7u3-linux-x64.rpm(注意jdk版本，此下载版本非下面安装版本)\n\n添加权限\nchmod 777 jdk-7u80-linux-x64.rpm\n\n运行安装\nrpm -ivh jdk-7u80-linux-x64.rpm\n\n找到\n[root@localhost~]# cd /etc \n[root@localhost etc]# vi profile \n\n添加到最后一行\nJAVA_HOME=/usr/java/jdk1.7.0_80\nPATH=$JAVA_HOME/bin:$PATH\nCLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport JAVA_HOME\nexport PATH\nexport CLASSPATH  \n\n输入:wq保存并退出，然后再重启CentOS 6系统\n\n输入\nshutdown -r now  \n\n让系统配置立即生效，不用重启系统\n终端输入命令：source /etc/profile\n注意：如果出现以下错误信息\nbash: /usr/java/jdk1.7.0_80/lib/dt.jar: 权限不够\nbash: /usr/java/jdk1.7.0_80/lib/tools.jar: 权限不够\n\n重新启动系统后，输入java -version查看是否成功\njava -version\n\n\n\n\n\n\n\n\n\n\n\n\nCentOS7 常用命令集合\n\n文件与目录操作\n命令      解析\ncd /home        进入 ‘/home’ 目录\ncd ..   返回上一级目录\ncd ../..        返回上两级目录\ncd -    返回上次所在目录\ncp file1 file2  将file1复制为file2\ncp -a dir1 dir2         复制一个目录\ncp -a /tmp/dir1 .       复制一个目录到当前工作目录（.代表当前目录）\nls      查看目录中的文件\nls -a   显示隐藏文件\nls -l   显示详细信息\nls -lrt         按时间显示文件（l表示详细列表，r表示反向排序，t表示按时间排序）\npwd     显示工作路径\nmkdir dir1      创建 ‘dir1’ 目录\nmkdir dir1 dir2         同时创建两个目录\nmkdir -p /tmp/dir1/dir2         创建一个目录树\nmv dir1 dir2    移动/重命名一个目录\nrm -f file1     删除 ‘file1’\nrm -rf dir1     删除 ‘dir1’ 目录及其子目录内容\n\n\n\n查看文件内容\n命令      解析\ncat file1       从第一个字节开始正向查看文件的内容\nhead -2 file1   查看一个文件的前两行\nmore file1      查看一个长文件的内容\ntac file1       从最后一行开始反向查看一个文件的内容\ntail -3 file1   查看一个文件的最后三行\nvi file         打开并浏览文件\n\n\n\n\n文本内容处理\n命令      解析\ngrep str /tmp/test      在文件 ‘/tmp/test’ 中查找 “str”\ngrep ^str /tmp/test     在文件 ‘/tmp/test’ 中查找以 “str” 开始的行\ngrep [0-9] /tmp/test    查找 ‘/tmp/test’ 文件中所有包含数字的行\ngrep str -r /tmp/*      在目录 ‘/tmp’ 及其子目录中查找 “str”\ndiff file1 file2        找出两个文件的不同处\nsdiff file1 file2       以对比的方式显示两个文件的不同\nvi file         \n操作      解析\ni       进入编辑文本模式\nEsc     退出编辑文本模式\n:w      保存当前修改\n:q      不保存退出vi\n:wq     保存当前修改并退出vi\n\n\n\n\n\n查询操作\n命令      解析\nfind / -name file1      从 ‘/’ 开始进入根文件系统查找文件和目录\nfind / -user user1      查找属于用户 ‘user1’ 的文件和目录\nfind /home/user1 -name *.bin    在目录 ‘/ home/user1’ 中查找以 ‘.bin’ 结尾的文件\nfind /usr/bin -type f -atime +100       查找在过去100天内未被使用过的执行文件\nfind /usr/bin -type f -mtime -10        查找在10天内被创建或者修改过的文件\nlocate *.ps     寻找以 ‘.ps’ 结尾的文件，先运行 ‘updatedb’ 命令\nfind -name ‘*.[ch]’ | xargs grep -E ‘expr’      在当前目录及其子目录所有.c和.h文件中查找 ‘expr’\nfind -type f -print0 | xargs -r0 grep -F ‘expr’         在当前目录及其子目录的常规文件中查找 ‘expr’\nfind -maxdepth 1 -type f | xargs grep -F ‘expr’         在当前目录中查找 ‘expr’\n压缩、解压\n命令      解析\nbzip2 file1     压缩 file1\nbunzip2 file1.bz2       解压 file1.bz2\ngzip file1      压缩 file1\ngzip -9 file1   最大程度压缩 file1\ngunzip file1.gz         解压 file1.gz\ntar -cvf archive.tar file1      把file1打包成 archive.tar（-c: 建立压缩档案；-v: 显示所有过程；-f: 使用档案名字，是必须的，是最后一个参数）\ntar -cvf archive.tar file1 dir1         把 file1，dir1 打包成 archive.tar\ntar -tf archive.tar     显示一个包中的内容\ntar -xvf archive.tar    释放一个包\ntar -xvf archive.tar -C /tmp    把压缩包释放到 /tmp目录下\nzip file1.zip file1     创建一个zip格式的压缩包\nzip -r file1.zip file1 dir1     把文件和目录压缩成一个zip格式的压缩包\nunzip file1.zip         解压一个zip格式的压缩包到当前目录\nunzip test.zip -d /tmp/         解压一个zip格式的压缩包到 /tmp 目录\n\n\n\n***********************yum安装器***********************\nyum -y install [package]        下载并安装一个rpm包\nyum localinstall [package.rpm]  安装一个rpm包，使用你自己的软件仓库解决所有依赖关系\nyum -y update   更新当前系统中安装的所有rpm包\nyum update [package]    更新一个rpm包\nyum remove [package]    删除一个rpm包\nyum list        列出当前系统中安装的所有包\nyum search [package]    在rpm仓库中搜寻软件包\nyum clean [package]     清除缓存目录（/var/cache/yum）下的软件包\nyum clean headers       删除所有头文件\nyum clean all   删除所有缓存的包和头文件\n\n\n\n\n\n网络相关\n命令      解析\nifconfig eth0   显示一个以太网卡的配置\nifconfig eth0 192.168.1.1 netmask 255.255.255.0         配置网卡的IP地址\nifdown eth0     禁用 ‘eth0’ 网络设备\nifup eth0       启用 ‘eth0’ 网络设备\niwconfig eth1   显示一个无线网卡的配置\niwlist scan     显示无线网络\nip addr show    显示网卡的IP地址\n\n\n\n\n系统相关\n命令      解析\nsu -    切换到root权限（与su有区别）\nshutdown -h now         关机\nshutdown -r now         重启\ntop     罗列使用CPU资源最多的linux任务 （输入q退出）\npstree  以树状图显示程序\nman ping        查看参考手册（例如ping 命令）\npasswd  修改密码\ndf -h   显示磁盘的使用情况\ncal -3  显示前一个月，当前月以及下一个月的月历\ncal 10 1988     显示指定月，年的月历\ndate –date ‘1970-01-01 UTC 1427888888 seconds’  把一相对于1970-01-01 00:00的秒数转换成时间\n\n\n\n\nXSheel 5相关操作\n窗体快捷键\n命令      解析\nCtrl + u        删除光标之前到行首的字符\nCtrl + k        删除光标之前到行尾的字符\nCtrl + c        取消当前行输入的命令，相当于Ctrl + Break\nCtrl + a        光标移动到行首（ahead of line），相当于通常的Home键\nCtrl + e        光标移动到行尾（end of line）\nCtrl + f        光标向前（forward）移动一个字符位置\nCtrl + b        光标往回（backward）移动一个字符位置\nCtrl + l        清屏，相当于执行clear命令\nCtrl + r        显示:号提示，根据用户输入查找相关历史命令（reverse-i-search）\nCtrl + w        删除从光标位置前到当前所处单词（word）的开头\nCtrl + t        交换光标位置前的两个字符\nCtrl + y        粘贴最后一次被删除的单词\nCtrl + Alt + d  显示桌面\nAlt + b         光标往回（backward）移动到前一个单词\nAlt + d         删除从光标位置到当前所处单词的末尾\nAlt + F2        运行\nAlt + F4        关闭当前窗口\nAlt + F9        最小化当前窗口\nAlt + F10       最大化当前窗口\nAlt + Tab       切换窗口\nAlt + 左键        移动窗口（或在最下面的任务栏滚动鼠标滑轮）\n\n\n\n操作小技巧\n鼠标中间键：粘贴突出显示的文本。(使用鼠标左键来选择文本。把光标指向想粘贴文本的地方。点击鼠标中间键来粘贴。)\nTab：命令行自动补全。使用 shell 提示时可使用这一方式。键入命令或文件名的前几个字符，然后按 [Tab] 键，它会自动补全命令或显示匹配键入字符的所有命令。\n在滚动条的空白处点击鼠标中键：屏幕即滚动到那个地方。\n在桌面或文件管理器中直接按 / 就可以输入位置，打开文件管理器。\n在 vi 或 Firefox 中直接按 / 即可进入快速搜索状态。\n网站链接和图片可直接拖放到桌面或者目录，可以马上下载。\n直接将文件管理器中的文件拖到终端中就可以在终端中得到完整的路径名。\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCentOS7种搭建FTP服务器\n如果是在虚拟机中试验的,最好先拍摄快照以免出现错误时恢复 \n1.安装vsftpd#首先要查看你是否安装vsftp [aliyunzixun@xxx.com/]#rpm-qvsftpdvsftpd-3.0.2-10.el7.x86_64 (显示也就安装成功了!)\n#如果没有则安装vsftpd[aliyunzixun@xxx\n如果是在虚拟机中试验的,最好先拍摄快照以免出现错误时恢复\n\n\n1.安装vsftpd\n#首先要查看你是否安装vsftp\n [aliyunzixun@xxx.com /]# rpm -q vsftpd\nvsftpd-3.0.2-10.el7.x86_64             (显示也就安装成功了!)\n#如果没有则安装vsftpd\n[aliyunzixun@xxx.com/]# yum  install -y  vsftpd\n#完成后再检查一遍\n [aliyunzixun@xxx.com /]# whereis  vsftpd\nvsftpd:/usr/sbin/vsftpd /etc/vsftpd/usr/share/man/man8/vsftpd\n\n#查看vsftpd服务的状态\n [aliyunzixun@xxx.com /]# systemctl statusvsftpd.service\n(如果是激活状态的话会有active绿色的标记)\n#激活vsftpd服务\n [aliyunzixun@xxx.com /]# systemctl startvsftpd.service\n#设置vsftpd服务开机自启\n [aliyunzixun@xxx.com /]#systemctl enable vsftpd.service\n查看开机启动项\nsystemctl list-unit-files\nsystemctl list-unit-files | grep vsftpd\n\n\n2. 配置vsftpd.conf\n#首先备份配置文件(必须要备份,以免出现意外时恢复。)\ncp /etc/vsftpd/vsftpd.conf/etc/vsftpd/vsftpd.conf.bak\n\n \n\n#执行以下命令(sed  -i 命令相当于直接修改原文件)\nsed -i"s/anonymous_enable=YES/anonymous_enable=NO/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#anon_upload_enable=YES/anon_upload_enable=NO/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#anon_mkdir_write_enable=YES/anon_mkdir_write_enable=YES/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#chown_uploads=YES/chown_uploads=NO/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#async_abor_enable=YES/async_abor_enable=YES/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#ascii_upload_enable=YES/ascii_upload_enable=YES/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#ascii_download_enable=YES/ascii_download_enable=YES/g"\'/etc/vsftpd/vsftpd.conf\'\nsed -i"s/#ftpd_banner=Welcome to blah FTP service./ftpd_banner=Welcome toFTP service./g"\'/etc/vsftpd/vsftpd.conf\'\n(其实你也可以直接使用\nvim /etc/vsftpd/vsftpd.conf 进入配置文件修改如下\nanonymous_enable=NO  # 禁用匿名登录\nascii_upload_enable=YES\nascii_download_enable=YES\nchroot_local_user=YES  # 启用限定用户在其主目录下\n)\n\n#之后添加下列内容到vsftpd.conf末尾\nuse_localtime=YES\nlisten_port=21\nchroot_local_user=YES\nidle_session_timeout=300\nguest_enable=YES\nguest_username=vsftpd\nuser_config_dir=/etc/vsftpd/vconf\ndata_connection_timeout=1\nvirtual_use_local_privs=YES\npasv_min_port=10060\npasv_max_port=10090\naccept_timeout=5\nconnect_timeout=1\n\n \n\n3. 建立用户文件\n#第一行用户名,第二行密码,不能使用root为用户名\nvim /etc/vsftpd/virtusers\n添加内容\ntest\n123456\nliu\n123456\n\n \n\n4.生成用户数据文件\n首先你需要确定你是否有db_load这个命令\nrpm –q  db\n安装之前先查询一下 \nyum  search db4\n\n安装\nyum install-y  compat-db47.x86_64  (以你的机器为准) \n生成db文件\ndb_load -T -t hash-f /etc/vsftpd/virtusers /etc/vsftpd/virtusers.db\n\n \n\n#设定PAM验证文件,并指定对虚拟用户数据库文件进行读取\nchmod600/etc/vsftpd/virtusers.db   (权限r,w即可)\n\n \n\n5. 修改/etc/pam.d/vsftpd文件\n# 修改前先备份\ncp /etc/pam.d/vsftpd /etc/pam.d/vsftpd.bak\n\n \n\n# 将auth及account的所有配置行均注释掉\nvi /etc/pam.d/vsftpd\n在里面添加这两句话\nauth sufficient/lib64/security/pam_userdb.so db=/etc/vsftpd/virtusers\naccount sufficient/lib64/security/pam_userdb.so db=/etc/vsftpd/virtusers\n\n\n# 如果系统为32位,上面lib64改为lib\n6.新建系统用户vsftpd,用户目录为/home/vsftpd\n#先在家目录下建立vsftpd文件夹,这也是我们访问的空间\nmkdir -p /home/vsftpd\n\n#用户登录终端设为/bin/false(即:使之不能登录系统)\nuseradd vsftpd -d/home/vsftpd -s /bin/false\nchown -R vsftpd:vsftpd /home/vsftpd\n\n \n\n7.建立虚拟用户个人配置文件\nmkdir /etc/vsftpd/vconf\ncd/etc/vsftpd/vconf\n\n \n\n#这里建立两个虚拟用户配合文件\ntouch test liu\n\n \n\n#建立用户根目录\nmkdir -p /home/vsftpd/test/\n\n \n\n#编辑test用户配置文件,内容如下,其他用户类似\nvi test\n\nlocal_root=/home/vsftpd/test/\nwrite_enable=YES\nanon_world_readable_only=NO\nanon_upload_enable=YES\nanon_mkdir_write_enable=YES\nanon_other_write_enable=YES\n\n\n8.防火墙设置(centos 7)\n#如果系统启用了防火墙和SELinux,那么还要做以下配置(默认情况下centos7是使用firewall和selinux的,不在使用iptables)\n\n\n#防火墙添加FTP服务:\n[aliyunzixun@xxx.com vsftpd]#firewall-cmd --permanent --zone=public --add-service=ftp\n[aliyunzixun@xxx.com vsftpd]#firewall-cmd --reload\n\n#设置SELinux:\n[aliyunzixun@xxx.com vsftpd]#getsebool -a | grep ftp\n[aliyunzixun@xxx.com vsftpd]#setsebool -P ftpd_full_access on\n\n \n\n9. 重启vsftpd服务器\n[aliyunzixun@xxx.com]# systemctl stop  vsftpd.service\n[aliyunzixun@xxx.com]# systemctl start  vsftpd.service\n[aliyunzixun@xxx.com]# systemctl status  vsftpd.service\n\n\n10. 在/home/vsftpd/test/下面件几个文件夹做测试\nmkdir  /home/vsftpd/test/test{1..5}\n11. 在浏览器或者我的电脑里输入ftp://192.168.163.126(局域网)测试\n以上是CentOS7种搭建FTP服务器的内容，更多 搭建 centos7 服务器 FTP 的内容，请您使用右上方搜索功能获取相关信息。\n')])])])])},[],!1,null,null,null);t.default=s.exports}}]);